schema: '2.0'
stages:
  04a_prepare_CompAIRR_data:
    cmd: python scripts/script_04a_prepare_CompAIRR_data.py
    deps:
    - path: data/globals/slack_1_global.tsv
      md5: 8877beb902b485ded2b9f9e9b2072a1c
      size: 64556814
    - path: scripts/script_04a_prepare_CompAIRR_data.py
      md5: b10be52ae9da67b5568de9ac6eda2ad8
      size: 2071
    outs:
    - path: data/CompAIRR/prepared_data
      md5: 03999812dcfa281fa0e5513f55b6fb7e.dir
      size: 32121580
      nfiles: 2
  04b_CompAIRR:
    cmd: bash scripts/script_04b_CompAIRR.sh
    deps:
    - path: data/CompAIRR/prepared_data/AIRR.tsv
      md5: f4ca9d118dea546b4410a57a9a727aca
      size: 15600307
    - path: data/CompAIRR/prepared_data/AIRR_global_repertoire.tsv
      md5: 79c52242b128289f7aff2c14ff77a99d
      size: 16521273
    - path: scripts/script_04b_CompAIRR.sh
      md5: 65e8da1f62d5621fee8e038e6b79fa21
      size: 2213
    outs:
    - path: data/CompAIRR/results
      md5: bc367d3c844a841c25d09c72838fa528.dir
      size: 3451219404
      nfiles: 21
  05_SN10_closedset_binary_interpretability:
    cmd: python scripts/script_05_SN10_closedset_binary_interpretability.py
    deps:
    - path: data/globals/slack_1_global.tsv
      md5: 8877beb902b485ded2b9f9e9b2072a1c
      size: 64556814
    - path: scripts/script_05_SN10_closedset_binary_interpretability.py
      md5: 9850759446c4534b5ba25879f613b4b2
      size: 5774
    params:
      params.yaml:
        05_SN10_closedset_binary_interpretability.ag_neg: 1ADQ
        05_SN10_closedset_binary_interpretability.ag_pos: 3VRL
        05_SN10_closedset_binary_interpretability.epochs: 5
        05_SN10_closedset_binary_interpretability.learning_rate: 0.01
    outs:
    - path: data/SN10_closedset_binary_interpretability/
      md5: 3eb04503674d0e1cca988fbf4946c68e.dir
      size: 84093749
      nfiles: 4
  05b_all_SN10_closedset_binary_interpretability:
    cmd: python scripts/script_05b_all_SN10_closedset_binary_interpretability.py
    deps:
    - path: data/globals/slack_1_global.tsv
      md5: 8877beb902b485ded2b9f9e9b2072a1c
      size: 64556814
    - path: scripts/script_05b_all_SN10_closedset_binary_interpretability.py
      md5: a310debba621e7df5b2987ff29815ae0
      size: 3504
    params:
      params.yaml:
        05_SN10_closedset_binary_interpretability.epochs: 5
        05_SN10_closedset_binary_interpretability.learning_rate: 0.01
    outs:
    - path: data/SN10_closedset_binary_interpretability_all
      md5: a27617b9e279d389b66169afd79f8cad.dir
      size: 4095854682
      nfiles: 180
  06_SN10_openset_NDB1:
    cmd: python scripts/script_06_SN10_openset_NDB1.py
    deps:
    - path: data/globals/slack_1_global.tsv
      md5: 8877beb902b485ded2b9f9e9b2072a1c
      size: 64556814
    - path: scripts/script_06_SN10_openset_NDB1.py
      md5: e87a0263aab8a73efd3a64e491d0ac1e
      size: 4485
    params:
      params.yaml:
        06_SN10_openset_NDB1.epochs: 30
        06_SN10_openset_NDB1.experiment_id: 2
        06_SN10_openset_NDB1.learning_rate: 0.01
        06_SN10_openset_NDB1.num_processes: 20
        06_SN10_openset_NDB1.run_name: DEV
